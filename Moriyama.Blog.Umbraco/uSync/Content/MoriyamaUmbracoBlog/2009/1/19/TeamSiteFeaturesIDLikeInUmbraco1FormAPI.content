<?xml version="1.0" encoding="utf-8"?>
<BlogPost guid="6589927a-f9ba-4b28-9412-1e28827982d1" id="1871" nodeName="TeamSite features I’d like in Umbraco #1 FormAPI" isDoc="" updated="2013-07-07T08:17:51.99Z" parentGUID="b59d7523-8969-4c2e-bc94-7b9160085c0d" nodeTypeAlias="BlogPost" templateAlias="BlogPost" sortOrder="1" published="true">
  <umbracoUrlAlias><![CDATA[/teamsite-features-i’d-like-in-umbraco-1-formapi]]></umbracoUrlAlias>
  <umbracoNaviHide></umbracoNaviHide>
  <umbracoInternalRedirectId></umbracoInternalRedirectId>
  <redirect></redirect>
  <displayDate>A002C30F-7550-4AB9-A7FD-54C7A6D4EBA2-01-19T15:18:00</displayDate>
  <title></title>
  <shortUrl><![CDATA[http://bit.ly/e541WC]]></shortUrl>
  <summary><![CDATA['TeamSite features I’d like in Umbraco #1 FormAPI' - a blog post by Darren Ferguson about customer support site, overkill requiring significant hardware, AJAX, Technology Internet written on 19 January A002C30F-7550-4AB9-A7FD-54C7A6D4EBA2]]></summary>
  <tags><![CDATA[customer support site, overkill requiring significant hardware, AJAX, Technology Internet]]></tags>
  <bodyText><![CDATA[<p>I’ve been working with <a href="http://www.interwoven.com/components/page.jsp?topic=PRODUCT::TEAMSITE">Interwoven TeamSite</a> for several years now. For those of you who aren't familiar with TeamSite it is a commercial “Enterprise” content management system (Note: the inverted commas – I don’t like the term enterprise as it is so often misused).</p><p>In the last few years I’ve also started working with Umbraco. More often than not, Umbraco is my product of choice when building a content-centric website. In most cases TeamSite is overkill requiring significant hardware to host the content repository not to mention an outlay of tens/hundreds of thousands of pounds in license fees depending on the components of the Interwoven product suite that are required. I’m not saying that there is no case where TeamSite is the solution but for most freelance clients that I have Umbraco is free and more than sufficient.</p><p>But… Well, there has to be a but or there is no blog post to make. Every once in a while I hit a problem in Umbraco where I wish I had the TeamSite solution available. Luckily Umbraco is completely open and extensible so I’m canvassing opinion here to see whether anyone shares my enthusiasm for developing an Umbraco solution to an all too common problem.</p><p>We’ve all encountered the need for complex form validation when using a CMS before. Let’s take this TeamSite form as an example:</p><p class="clear"><img alt="TeamSite" src="/media/77558/EE8A6147-CDD5-405D-B6EA-1EB6BCB1E896_1.jpg" /></p><p class="clear">Above you can see that <em>Title </em>and <em>Subtitle </em>are both required fields but what I really want is to have to specify one field or the other. TeamSite provides a JavaScript library called <em>FormAPI </em>which allows me to implement this requirement  with a simple script:</p><pre class="sh_javascript" style="border: 1px solid black; background-color: #eeeeee; padding: 7px;">IWEventRegistry.addFormHandler("onFormInit", function() {
		IWEventRegistry.addItemHandler ('/press-release/head/title', 'onItemChange', function(item) {
			var subTitle = IWDatacapture.getItem('/press-release/head/subtitle');
			subTitle.setRequired((item.getValue().length ==0));
		});
	});</pre><p>The code above adds a handler to my <em>Title</em> field which is called when the value changes. The required status of the S<em>ub Title</em> field is then set dependent on it’s value.</p><p>Simple example, but immensely powerful. FormAPI provides all sorts of form manipulation such as hiding/showing, enabling/disabling fields making AJAX calls out to a server and even dynamically changing the validation regular expression of a field based on the values of other fields. </p><p>In case you aren’t ‘seeing the light’ just yet imagine the following scenarios:</p><ul><li>Validate a phone number to a country specific format depending on the value of a country drop down.</li><li>Retrieve values for a city drop down via AJAX based on the value of a country drop down.</li><li>Only show fields relating to a right hand column if the ‘show right hand column’ checkbox is checked.</li></ul><p>I do understand that you can create custom data types for Umbraco but this constrains any client side script to within the data type and makes it difficult for form fields to interact with one another.</p><p>I’d like to post the complete FormAPI reference here, but it sits on a password protected customer support site which suggests to me that it isn’t in the public domain.</p><p>I know that I’d find something like this incredibly useful in Umbraco. Some may argue that it is over complicated and not really appropriate for a simple CMS. I’m fully aware that the one of the major plus points of Umbraco is simplicity for the end user. What do you think?</p><p>There are a couple more TeamSite features that I think would make good additions to Umbraco functionality which I’ll try to blog about when I have the chance.</p><p>
Oh and yes, the post it titled '#1' as there are more features I'd like to see in Umbraco, but I'll wait to see if I get shouted down on this one first :)
</p>]]></bodyText>
  <commentsDisabled></commentsDisabled>
</BlogPost>